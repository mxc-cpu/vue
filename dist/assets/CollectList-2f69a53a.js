import{P as C,a as w}from"./collectAip-63cac197.js";import{v as S,S as z,T as B,q as D,r as _,a as N,i as U,h as V,b as d,o as i,j,w as f,f as h,d as c,e,F as L,m as P,t as T,u}from"./index-e5993185.js";import{l as E}from"./StoreLogin-90de31fe.js";import{u as F}from"./use-message-c50f49d6.js";function M(){const p=S(z,null);return p===null&&B("use-dialog","No outer <n-dialog-provider /> founded."),p}const $={key:0,class:"table is-striped is-hoverable is-fullwidth"},q=e("thead",null,[e("tr",null,[e("th",null,"标题"),e("th",null,[e("abbr",{title:"操作"},"操作")])])],-1),A={style:{width:"90%"}},K={style:{"text-decoration":"underline"}},Q=["onClick"],R={key:1,class:"px-3"},G=e("p",null,"您还没有中意的文章",-1),H=[G],J={class:"level py-6"},te={__name:"CollectList",setup(p){const m=M(),g=F();D();const v=E(),r=_({arr:[]});var b=N(1),o=_({pageIndex:1,pageSize:20});const x=t=>{m.warning({title:"注意",content:"你要删除该收藏吗",positiveText:"是的我义无反顾",negativeText:"不了我有所留恋",onPositiveClick:()=>{w(t).then(a=>{a.data.success==!0?(l(),g.info("删除成功，旧的不去新的不来")):(l(),g.info("删除失败，它还有未尽之事"))})},onNegativeClick:()=>{g.info("经典值得回味")}})},l=async(t=0)=>{t!=0&&(o.pageIndex=t);const a=_({Id:v.userId,pageIndex:o.pageIndex,pageSize:o.pageSize});C(a).then(s=>{s.data.success==!0?r.arr=s.data.data.dataList:r.arr=null}).catch(s=>{console.error(s)})};return U(()=>{l()}),V(()=>{l()}),(t,a)=>{const s=d("router-link"),y=d("n-pagination"),k=d("n-tab-pane"),I=d("n-tabs");return i(),j(I,{animated:"true",type:"card","tab-style":"min-width: 80px;",value:t.tabValue,"onUpdate:value":[a[1]||(a[1]=n=>t.tabValue=n),t.change]},{default:f(()=>[h(k,{tab:"收藏夹",name:"collect"},{default:f(()=>[r.arr.length!=0?(i(),c("table",$,[q,e("tbody",null,[(i(!0),c(L,null,P(r.arr,(n,O)=>(i(),c("tr",null,[e("td",A,[h(s,{to:`/Detail/${n.artileId}`},{default:f(()=>[e("p",K,T(n.title),1)]),_:2},1032,["to"])]),e("td",null,[e("a",{onClick:W=>x(n.id)},"删除",8,Q)])]))),256))])])):(i(),c("div",R,H)),e("div",J,[h(y,{class:"level-item has-text-centered",page:u(o).pageIndex,"onUpdate:page":[a[0]||(a[0]=n=>u(o).pageIndex=n),l],"page-size":u(o).pageSize,"page-count":u(b)},null,8,["page","page-size","page-count"])])]),_:1})]),_:1},8,["value","onUpdate:value"])}}};export{te as default};
