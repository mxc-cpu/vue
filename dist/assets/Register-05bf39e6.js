import{j as U,g as _,k as y,r as i,o as S,h as k,w as a,b as r,d as I,u as f,i as q,v as z,p as R,f as B,a as C}from"./index-8d73d806.js";import{U as E}from"./StoreLogin-49959fca.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const N=async d=>await U.post("UserRegister/register",d);const V=d=>(R("data-v-4fa3b659"),d=d(),B(),d),K=V(()=>C("h1",{class:"title container login-tiele-center"},"注 册",-1)),P={__name:"Register",setup(d){const m=_({repassword:""}),c=y(!1),o=_({name:"",email:"",password:"",ip:sessionStorage.getItem("ip")});let g={name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:3,max:6,message:"姓名长度在3-6个字符",trigger:"blur"},{validator:function(e,l,s){let n="[`~!#$^&*()=|{}';'<>?~！#￥……&*（）——|{}【】‘；”“'。，、？@·]‘'";for(let u=0;u<str.length;u++)n.indexOf(str.substr(u,1))!=-1&&s(new Error("姓名不能有特殊字符"));s()}}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:function(p,e,l){/^\w{1,64}@[a-z0-9\-]{1,256}(\.[a-z]{2,6}){1,2}$/i.test(e)==!1?(console.log(e),l(new Error("邮箱格式错误"))):l()},trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:18,message:"密码长度在3-18个字符",trigger:"blur"}],repassword:[{required:!0,message:"请再次输入密码",trigger:["input","blur"]},{validator:function(e,l,s){l!==o.password?(console.log(l),console.log("re"+o.password),s(new Error("两次输入密码不一致!"))):s()},trigger:"blur"}]};const w=E(),v=async()=>{await N(o)&&await w.UserLigonAuthorization(o)};return(p,e)=>{const l=i("n-divider"),s=i("n-input"),n=i("n-form-item"),u=i("n-form"),b=i("n-checkbox"),h=i("n-button"),x=i("n-card");return S(),k(x,{class:"box login-panel",style:{"margin-top":"5%","margin-bottom":"5%"}},{footer:a(()=>[r(b,{checked:c.value,"onUpdate:checked":e[5]||(e[5]=t=>c.value=t),label:"同意用户协议"},null,8,["checked"]),r(l),r(h,{class:"container",color:"#ff69b4",block:"false",size:"large",disabled:!c.value,onClick:v,style:{width:"100px"}},{default:a(()=>[I("注 册")]),_:1},8,["disabled"])]),default:a(()=>[K,r(l),r(u,{rules:f(g),model:o},{default:a(()=>[r(n,{path:"name",label:"用户名"},{default:a(()=>[r(s,{value:o.name,"onUpdate:value":e[0]||(e[0]=t=>o.name=t),placeholder:"请输入你的昵称"},null,8,["value"])]),_:1}),r(n,{path:"email",label:"邮箱"},{default:a(()=>[r(s,{value:o.email,"onUpdate:value":e[1]||(e[1]=t=>o.email=t),placeholder:"请输入邮箱"},null,8,["value"])]),_:1}),r(n,{path:"password",label:"密码"},{default:a(()=>[r(s,{type:"password","show-password-on":"mousedown",value:o.password,"onUpdate:value":e[2]||(e[2]=t=>o.password=t),placeholder:"请输入密码"},null,8,["value"])]),_:1}),r(u,{rules:f(g),model:m},{default:a(()=>[r(n,{path:"repassword",label:"重复密码"},{default:a(()=>[r(s,{"show-password-on":"mousedown",value:m.repassword,"onUpdate:value":e[3]||(e[3]=t=>m.repassword=t),placeholder:"请再次输入密码"},null,8,["value"])]),_:1})]),_:1},8,["rules","model"]),q(r(n,{part:"ip"},{default:a(()=>[r(s,{"input-props":{type:"hidden"},value:o.ip,"onUpdate:value":e[4]||(e[4]=t=>o.ip=t)},null,8,["value"])]),_:1},512),[[z,p.hidden]])]),_:1},8,["rules","model"])]),_:1})}}},D=L(P,[["__scopeId","data-v-4fa3b659"]]);export{D as default};
